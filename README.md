# ESP32 Camera Telegram Bot

–ü—Ä–æ–µ–∫—Ç –¥–ª—è ESP32 —Å –º–æ–¥—É–ª–µ–º –∫–∞–º–µ—Ä—ã OV2640, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ Telegram-–±–æ—Ç.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏-–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è](#—Å—Ö–µ–º–∞-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram-–±–æ—Ç–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-telegram-–±–æ—Ç–∞)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è](#–≤–æ–∑–º–æ–∂–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–µ—à–µ–Ω–∏—è)

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã OV2640 –Ω–∞ ESP32
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Wi-Fi —Å–µ—Ç–∏
- –°–æ–∑–¥–∞–Ω–∏–µ Telegram-–±–æ—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç—É –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `config.h`

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ**
- –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä: **ESP32 Dev Module** (–Ω–∞–ø—Ä–∏–º–µ—Ä, ESP32-WROOM-32)
- –ú–æ–¥—É–ª—å –∫–∞–º–µ—Ä—ã: **OV2640**
- –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞ (FPC –∫–∞–±–µ–ª—å –¥–ª—è –∫–∞–º–µ—Ä—ã)

### **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ**
- **PlatformIO** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ Arduino IDE
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
  - `Universal Telegram Bot`
  - `WiFi`
  - `WiFiClientSecure`
  - `ESP32-Camera`

## üîå –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–∞–º–µ—Ä—É OV2640 –∫ ESP32 —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ª–µ–¥—É—é—â–µ–π —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–µ:

| –ö–æ–Ω—Ç–∞–∫—Ç –∫–∞–º–µ—Ä—ã | –ö–æ–Ω—Ç–∞–∫—Ç ESP32 | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ       |
|----------------|---------------|------------------|
| SIOC           | GPIO 22       | I2C Clock        |
| SIOD           | GPIO 21       | I2C Data         |
| VSYNC          | GPIO 34       | Vertical Sync    |
| HREF           | GPIO 35       | Horizontal Ref   |
| PCLK           | GPIO 25       | Pixel Clock      |
| XCLK           | GPIO 27       | System Clock     |
| D7             | GPIO 19       | Data Bit 7       |
| D6             | GPIO 18       | Data Bit 6       |
| D5             | GPIO 5        | Data Bit 5       |
| D4             | GPIO 4        | Data Bit 4       |
| D3             | GPIO 0        | Data Bit 3       |
| D2             | GPIO 15       | Data Bit 2       |
| D1             | GPIO 14       | Data Bit 1       |
| D0             | GPIO 12       | Data Bit 0       |
| GND            | GND           | –ó–µ–º–ª—è            |
| 3.3V           | 3.3V          | –ü–∏—Ç–∞–Ω–∏–µ 3.3V     |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ –ø–ª–∞—Ç–∞ ESP32 –º–æ–∂–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ç–æ–∫ –¥–ª—è –∫–∞–º–µ—Ä—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ 3.3V –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö).

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash

git clone https://github.com/DmitrySerP/esp32cma_send_bot.git
cd esp32cma_send_bot

```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PlatformIO
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PlatformIO. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ VSCode —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º PlatformIO.

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª config.h –≤ –ø–∞–ø–∫–µ include/ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:

```cpp
// include/config.h
#ifndef CONFIG_H
#define CONFIG_H

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Wi-Fi
const char* ssid = "YOUR_SSID";
const char* password = "YOUR_PASSWORD";

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram-–±–æ—Ç–∞
#define BOT_TOKEN "XXXXXXXXXX:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
#define CHAT_ID "XXXXXXXXXX"

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã
#define PWDN_GPIO_NUM     -1
#define RESET_GPIO_NUM    -1
#define XCLK_GPIO_NUM     27
#define SIOD_GPIO_NUM     21
#define SIOC_GPIO_NUM     22
#define Y9_GPIO_NUM       19
#define Y8_GPIO_NUM       36
#define Y7_GPIO_NUM       18
#define Y6_GPIO_NUM       39
#define Y5_GPIO_NUM        5
#define Y4_GPIO_NUM       34
#define Y3_GPIO_NUM       35
#define Y2_GPIO_NUM       32
#define VSYNC_GPIO_NUM    25
#define HREF_GPIO_NUM     23
#define PCLK_GPIO_NUM     22

#endif
```
–í–ê–ñ–ù–û: –§–∞–π–ª config.h –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–∞—à–∏—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

### 4. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—à–∏–≤–∫–∏
–ü–æ–¥–∫–ª—é—á–∏—Ç–µ ESP32 –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É.

–í PlatformIO –Ω–∞–∂–º–∏—Ç–µ Upload.

–û—Ç–∫—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä –ø–æ—Ä—Ç–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤.

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```text
esp32cma_send_bot/
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îî‚îÄ‚îÄ config.h          # –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–∞–º–∏)
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ PlatformIO)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ main.cpp          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îú‚îÄ‚îÄ test/
‚îú‚îÄ‚îÄ .gitignore            # –ò—Å–∫–ª—é—á–∞–µ—Ç config.h
‚îî‚îÄ‚îÄ platformio.ini        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PlatformIO
```
## ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram-–±–æ—Ç–∞
### –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞:
```text
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram, –Ω–∞–π–¥–∏—Ç–µ @BotFather.
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /newbot –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, 123456789:ABCdefGhIJKlmNoPQRsTUVwxyZ).
4. –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à Chat ID:
  4.1 –ù–∞–π–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –±–æ—Ç–∞ –≤ Telegram, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: https://api.telegram.org/bot<–í–ê–®_–¢–û–ö–ï–ù>/getUpdates
6. –í –æ—Ç–≤–µ—Ç–µ JSON –Ω–∞–π–¥–∏—Ç–µ id –≤ —Ä–∞–∑–¥–µ–ª–µ chat. –≠—Ç–æ –≤–∞—à Chat ID.

–î–æ–±–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ config.h:
- –í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ BOT_TOKEN.
- –í—Å—Ç–∞–≤—å—Ç–µ ID –≤ CHAT_ID.
```
### üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
**–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É –Ω–∞ ESP32.**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ (—Å–∫–æ—Ä–æ—Å—Ç—å 115200).
2. –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ Wi-Fi –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–º–µ—Ä—ã –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
3. –í Telegram –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–∏–∞–ª–æ–≥ —Å –≤–∞—à–∏–º –±–æ—Ç–æ–º.
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /start –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è.
5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /photo –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
| –ü—Ä–æ–±–ª–µ–º–∞	                 |  –í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ                                                              |
|----------------------------|---------------------------------------------------------------------------------|
| –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wi-Fi |	–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSID, –ø–∞—Ä–æ–ª—å, —Å–∏–ª—É —Å–∏–≥–Ω–∞–ª–∞.                                          |
| –ö–∞–º–µ—Ä–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –ø–∏—Ç–∞–Ω–∏–µ 3.3V, –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∏–Ω–æ–≤ –≤ config.h.              |
| –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç	           |–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞ –∏ Chat ID. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ESP32.  |
| –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏	         | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–æ–¥—É–ª—å ESP32 –≤ platformio.ini.                 |
| –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏	         |  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ PlatformIO.                    |


## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ LICENSE.

## üë§ –ê–≤—Ç–æ—Ä
**DmitrySerP** ‚Äì [GitHub –ø—Ä–æ—Ñ–∏–ª—å](https://github.com/DmitrySerP/esp32cma_send_bot)

*–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issue –∏–ª–∏ Pull Request –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏!*
